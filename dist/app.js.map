{"version":3,"file":"app.js","sources":["app.js"],"names":[],"mappings":"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","sourcesContent":["function draw(data){\n    var layout_gravity = -0.01, damper = 0.1;\n\n\n    var chart_dimensions = {\n        width: 700,\n        height: 700\n    };\n\n    var center = {\n        x: chart_dimensions.width / 2,\n        y: chart_dimensions.height / 2\n    };\n\n\n    var chart = d3.select('#container')\n        .append('svg')\n        .attr('width', chart_dimensions.width)\n        .attr('height', chart_dimensions.height)\n        .append('g')\n        .attr('id', 'chart');\n\n    var extent = d3.extent(data, (d) => d.view_count);\n\n    //var fill =   d3.scale.ordinal().range(['#827d92'...'#2a3285','#383435'])\n\n    var scale = d3.scale\n        .pow()\n        .exponent(0.5)\n        .domain(extent)\n        .range([2 , 85]);\n\n    var fill_color = d3.scale.ordinal()\n      .domain(['es6', 'node', 'mv', 'graphics'])\n      .range(['#f0db4e', '#8cc84b', '#3a3a3a', '#bd473d'])\n\n\n    _.each(data, function (d) {\n        d.radius = scale(d.view_count);\n        d.y = Math.random() * chart_dimensions.height;\n        d.x = Math.random() * chart_dimensions.width;\n    });\n\n    var circles  = chart.selectAll('circle')\n        .data(data)\n        .enter()\n        .append('circle')\n        .attr('r', 0)\n        .attr('fill', fill_color(data.tech))\n        .attr('stroke-width', 2)\n        .attr('stroke', '#fff');\n\n    console.log(circles);\n\n    circles.transition()\n            .duration(2000)\n            .attr(\"r\", (d) => d.radius);\n\n\n    function moveTowardsCenter(alpha){\n        return function(d){\n            d.x = d.x + (center.x - d.x) * (damper + 0.02) * alpha;\n            d.y = d.y + (center.y - d.y) * (damper + 0.02) * alpha;\n        }\n    }\n\n    var force = d3.layout.force()\n          .nodes(data)\n          .size([chart_dimensions.width, chart_dimensions.height]);\n\n\n    force.gravity(layout_gravity)\n        .charge((d)=> -(Math.pow(d.radius, 2.0) / 8))\n        .friction(0.9)\n        .on('tick', (e) => {\n            _(circles).each((c)=> {\n                moveTowardsCenter(e.alpha);\n            });\n        })\n        .attr(\"cx\", (d) => d.x)\n        .attr(\"cy\", (d) => d.y);\n\n    force.start();\n}\n\nd3.json('http://tagtree.tv/feed.json', draw);\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}